{"version":3,"file":"server.js","sourceRoot":"","sources":["../src/server.ts"],"names":[],"mappings":"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"}